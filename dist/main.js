(()=>{"use strict";(()=>{const e=document.querySelector(".overlay"),t=document.querySelector(".btn-block"),o=document.querySelectorAll(".btn-sm"),n=document.querySelectorAll(".header-modal__close, .services-modal__close");let c;const l=(t,o)=>{c=o,((t,o)=>{c&&(c.style.opacity=o,e.style.opacity=o,(({timing:e,draw:t,duration:o})=>{const n=performance.now();requestAnimationFrame((function c(l){let r=(l-n)/o;r>1&&(r=1);const a=e(r);t(a),r<1&&requestAnimationFrame(c)}))})({duration:200,timing:e=>e,draw(n){"block"===t?(c.style.display=t,c.style.opacity=o+n,e.style.display=t,e.style.opacity=o+n):(c.style.opacity=o-n,e.style.opacity=o-n,c.style.opacity<=0&&e.style.opacity<=0&&(c.style.display=t,e.style.display=t))}}))})(t,"block"===t?0:1)};t.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(".header-modal");l("block",t)})),o.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(".services-modal");l("block",t)}))})),n.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),l("none",c)}))})),e.addEventListener("click",(e=>{c&&!c.contains(e.target)&&l("none",c)}))})(),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.querySelector("#header"),o=()=>{t.getBoundingClientRect().bottom<=0?e.style.display="block":e.style.display="none"};window.addEventListener("scroll",(()=>{o()})),e.addEventListener("click",(e=>{e.preventDefault(),(()=>{const e=window.scrollY;let t;const o=n=>{t||(t=n);const c=n-t,l=Math.min(c/500,1);window.scrollTo(0,e+(0-e)*l),l<1&&requestAnimationFrame(o)};requestAnimationFrame(o)})()})),o()})(),(()=>{const e=/[^А-Яа-яЁёA-Za-z]+$/,t=/^\+?[0-9]{0,16}$/,o=document.querySelectorAll('.form-control[name="fio"]'),n=document.querySelectorAll('.form-control[name="phone"]');o.forEach((t=>{t.addEventListener("input",(t=>{t.preventDefault(),t.target.value=t.target.value.replace(e,"")}))})),n.forEach((e=>{e.addEventListener("input",(e=>{e.target.value=e.target.value.match(t,"")}))}))})(),(()=>{const e=document.querySelector("#calc .container"),t=document.querySelector("#calc-type"),o=document.querySelector("#calc-type-material"),n=document.querySelector("#calc-input"),c=document.querySelector("#calc-total"),l=/^[0-9]+$/;(()=>{if(e){const r=e=>{e.addEventListener("input",(e=>{e.preventDefault(),e.target.value=e.target.value.match(l,"")}))},a=()=>{const e=t.options[0],n=o.options[0];e.text="Это обязательное поле*",n.text="Это обязательное поле*"};e.addEventListener("input",(e=>{e.preventDefault(),e.target!==t&&e.target!==o&&e.target!==n||(()=>{const e=+t.options[t.selectedIndex].value,l=+o.options[o.selectedIndex].value,r=n.value;if(isNaN(e)||isNaN(l))c.textContent=0;else{let t=Math.round(e*l*r);c.textContent=t}})()})),a(),r(n)}})()})(),(e=>{const t=document.querySelectorAll(".count_1 span"),o=document.querySelectorAll(".count_2 span"),n=document.querySelectorAll(".count_3 span"),c=document.querySelectorAll(".count_4 span");let l;const r=()=>{let r=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;t<0&&(t=0);let o=Math.floor(t/60/60/24),n=Math.floor(t/60/60%24),c=Math.floor(t/60%60),l=Math.floor(t%60);return o=o<10?"0"+o:o,n=n<10?"0"+n:n,c=c<10?"0"+c:c,l=l<10?"0"+l:l,{timeRemaining:t,days:o,hours:n,minutes:c,seconds:l}})();t.forEach((e=>{e.textContent=r.days})),o.forEach((e=>{e.textContent=r.hours})),n.forEach((e=>{e.textContent=r.minutes})),c.forEach((e=>{e.textContent=r.seconds})),0===r.timeRemaining&&clearInterval(l)};r(),l=setInterval(r,1e3)})("30 october 2024 12:45:00")})();